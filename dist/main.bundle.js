(self.webpackChunkbattleship=self.webpackChunkbattleship||[]).push([[792],{208:(n,e,t)=>{"use strict";t.d(e,{A:()=>s});var r=t(354),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([n.id,"body {\n  --background-color: #1b1e22;\n  --highlight-color: aqua;\n  --red-color: red;\n  --sunk-red: darkred;\n  margin: 0px;\n}\n\n.game-container {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  height: 100vh;\n  background-color: var(--background-color);\n  gap: 50px;\n}\n\n.board-container-left,\n.board-container-right {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n}\n\n.board-container-left > .player-board {\n  border: solid 3px blue;\n}\n\n.board-container-right > .player-board {\n  border: solid 3px var(--red-color);\n}\n\n.headerText {\n  color: white;\n  font-size: 30px;\n  font-weight: 700;\n  font-family: monospace;\n}\n\n.player-board {\n  padding: 2px;\n  background-color: white;\n  display: grid;\n  grid-template-columns: repeat(10, 50px);\n  grid-template-rows: repeat(10, 50px);\n  gap: 2px;\n}\n\n.square,\n.templateSquare {\n  height: 50px;\n  width: 50px;\n  background-color: #2458af;\n  margin-bottom: 2px;\n}\n\n.placedShip {\n  background-color: var(--highlight-color);\n}\n\n.highlight {\n  background-color: var(--highlight-color);\n}\n\n.missSquare {\n  background-color: grey;\n  pointer-events: none;\n}\n\n.hitSquare {\n  background-color: var(--red-color);\n  pointer-events: none;\n}\n\n.isSunk {\n  background-color: var(--sunk-red);\n  pointer-events: none;\n}\n\n.deactivateBoards {\n  pointer-events: none;\n}\n\n.selector {\n  border: solid;\n  width: 300px;\n  height: 400px;\n  padding: 10px 30px;\n  background-color: #292e36;\n  border: solid 2px white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n#rotateBtn {\n  margin-bottom: 30px;\n  margin-top: 10px;\n  padding: 20px 20px;\n  border: solid 2px var(--highlight-color);\n  color: white;\n  background-color: transparent;\n  cursor: pointer;\n  font-family: monospace;\n}\n\n#rotateBtn:hover {\n  border: white solid 2px;\n  background-color: var(--highlight-color);\n}\n\n.shipCont {\n  display: flex;\n  flex-direction: column;\n}\n\n.shipCont > div {\n  height: 50px;\n  width: 300px;\n  margin-bottom: 10px;\n}\n\n.shipCont > .highlight > .templateSquare {\n  background-color: var(--highlight-color);\n}\n\n.shipTemplate {\n  display: grid;\n  grid-template-columns: repeat(5, 50px);\n  gap: 2px;\n  margin-right: 10px;\n}\n\n.highlightShipTemplate > .templateSquare {\n  background-color: var(--highlight-color);\n}\n\n.vertical > .shipTemplate {\n  grid-template-rows: repeat(5, 50px);\n  gap: 2px;\n  grid-template-columns: none;\n  width: auto;\n}\n\n.vertical.shipCont {\n  flex-direction: row;\n}\n\n.gameEndCont {\n  opacity: 1;\n  z-index: 10;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  transition: opacity 10s;\n}\n\n.endGameText {\n  color: white;\n  font-size: 50px;\n  margin-bottom: 25px;\n  font-weight: 600;\n  font-family: monospace;\n}\n\n.restartBtn {\n  padding: 10px 20px;\n  font-size: 20px;\n  font-weight: 600;\n  font-family: monospace;\n  cursor: pointer;\n}\n\n.greenBackground {\n  background-color: rgba(0, 255, 0, 0.8);\n}\n\n.redBackground {\n  background-color: rgba(255, 0, 0, 0.8);\n}\n\n.board-container-right .square:hover {\n  background-color: var(--highlight-color);\n  cursor: pointer;\n}\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;EACE,2BAA2B;EAC3B,uBAAuB;EACvB,gBAAgB;EAChB,mBAAmB;EACnB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,6BAA6B;EAC7B,mBAAmB;EACnB,aAAa;EACb,yCAAyC;EACzC,SAAS;AACX;;AAEA;;EAEE,aAAa;EACb,sBAAsB;EACtB,6BAA6B;EAC7B,mBAAmB;AACrB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,kCAAkC;AACpC;;AAEA;EACE,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,sBAAsB;AACxB;;AAEA;EACE,YAAY;EACZ,uBAAuB;EACvB,aAAa;EACb,uCAAuC;EACvC,oCAAoC;EACpC,QAAQ;AACV;;AAEA;;EAEE,YAAY;EACZ,WAAW;EACX,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,wCAAwC;AAC1C;;AAEA;EACE,wCAAwC;AAC1C;;AAEA;EACE,sBAAsB;EACtB,oBAAoB;AACtB;;AAEA;EACE,kCAAkC;EAClC,oBAAoB;AACtB;;AAEA;EACE,iCAAiC;EACjC,oBAAoB;AACtB;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,aAAa;EACb,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,yBAAyB;EACzB,uBAAuB;EACvB,aAAa;EACb,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;EACnB,gBAAgB;EAChB,kBAAkB;EAClB,wCAAwC;EACxC,YAAY;EACZ,6BAA6B;EAC7B,eAAe;EACf,sBAAsB;AACxB;;AAEA;EACE,uBAAuB;EACvB,wCAAwC;AAC1C;;AAEA;EACE,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,YAAY;EACZ,YAAY;EACZ,mBAAmB;AACrB;;AAEA;EACE,wCAAwC;AAC1C;;AAEA;EACE,aAAa;EACb,sCAAsC;EACtC,QAAQ;EACR,kBAAkB;AACpB;;AAEA;EACE,wCAAwC;AAC1C;;AAEA;EACE,mCAAmC;EACnC,QAAQ;EACR,2BAA2B;EAC3B,WAAW;AACb;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,UAAU;EACV,WAAW;EACX,eAAe;EACf,WAAW;EACX,YAAY;EACZ,MAAM;EACN,OAAO;EACP,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,YAAY;EACZ,eAAe;EACf,mBAAmB;EACnB,gBAAgB;EAChB,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,gBAAgB;EAChB,sBAAsB;EACtB,eAAe;AACjB;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,wCAAwC;EACxC,eAAe;AACjB",sourcesContent:["body {\n  --background-color: #1b1e22;\n  --highlight-color: aqua;\n  --red-color: red;\n  --sunk-red: darkred;\n  margin: 0px;\n}\n\n.game-container {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  height: 100vh;\n  background-color: var(--background-color);\n  gap: 50px;\n}\n\n.board-container-left,\n.board-container-right {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n}\n\n.board-container-left > .player-board {\n  border: solid 3px blue;\n}\n\n.board-container-right > .player-board {\n  border: solid 3px var(--red-color);\n}\n\n.headerText {\n  color: white;\n  font-size: 30px;\n  font-weight: 700;\n  font-family: monospace;\n}\n\n.player-board {\n  padding: 2px;\n  background-color: white;\n  display: grid;\n  grid-template-columns: repeat(10, 50px);\n  grid-template-rows: repeat(10, 50px);\n  gap: 2px;\n}\n\n.square,\n.templateSquare {\n  height: 50px;\n  width: 50px;\n  background-color: #2458af;\n  margin-bottom: 2px;\n}\n\n.placedShip {\n  background-color: var(--highlight-color);\n}\n\n.highlight {\n  background-color: var(--highlight-color);\n}\n\n.missSquare {\n  background-color: grey;\n  pointer-events: none;\n}\n\n.hitSquare {\n  background-color: var(--red-color);\n  pointer-events: none;\n}\n\n.isSunk {\n  background-color: var(--sunk-red);\n  pointer-events: none;\n}\n\n.deactivateBoards {\n  pointer-events: none;\n}\n\n.selector {\n  border: solid;\n  width: 300px;\n  height: 400px;\n  padding: 10px 30px;\n  background-color: #292e36;\n  border: solid 2px white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n#rotateBtn {\n  margin-bottom: 30px;\n  margin-top: 10px;\n  padding: 20px 20px;\n  border: solid 2px var(--highlight-color);\n  color: white;\n  background-color: transparent;\n  cursor: pointer;\n  font-family: monospace;\n}\n\n#rotateBtn:hover {\n  border: white solid 2px;\n  background-color: var(--highlight-color);\n}\n\n.shipCont {\n  display: flex;\n  flex-direction: column;\n}\n\n.shipCont > div {\n  height: 50px;\n  width: 300px;\n  margin-bottom: 10px;\n}\n\n.shipCont > .highlight > .templateSquare {\n  background-color: var(--highlight-color);\n}\n\n.shipTemplate {\n  display: grid;\n  grid-template-columns: repeat(5, 50px);\n  gap: 2px;\n  margin-right: 10px;\n}\n\n.highlightShipTemplate > .templateSquare {\n  background-color: var(--highlight-color);\n}\n\n.vertical > .shipTemplate {\n  grid-template-rows: repeat(5, 50px);\n  gap: 2px;\n  grid-template-columns: none;\n  width: auto;\n}\n\n.vertical.shipCont {\n  flex-direction: row;\n}\n\n.gameEndCont {\n  opacity: 1;\n  z-index: 10;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  transition: opacity 10s;\n}\n\n.endGameText {\n  color: white;\n  font-size: 50px;\n  margin-bottom: 25px;\n  font-weight: 600;\n  font-family: monospace;\n}\n\n.restartBtn {\n  padding: 10px 20px;\n  font-size: 20px;\n  font-weight: 600;\n  font-family: monospace;\n  cursor: pointer;\n}\n\n.greenBackground {\n  background-color: rgba(0, 255, 0, 0.8);\n}\n\n.redBackground {\n  background-color: rgba(255, 0, 0, 0.8);\n}\n\n.board-container-right .square:hover {\n  background-color: var(--highlight-color);\n  cursor: pointer;\n}\n"],sourceRoot:""}]);const s=i},314:n=>{"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var A=0;A<n.length;A++){var l=[].concat(n[A]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},354:n=>{"use strict";n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},72:n=>{"use strict";var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},i=[],s=0;s<n.length;s++){var c=n[s],A=r.base?c[0]+r.base:c[0],l=a[A]||0,d="".concat(A," ").concat(l);a[A]=l+1;var p=t(d),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var u=o(h,r);r.byIndex=s,e.splice(s,0,{identifier:d,updater:u,references:1})}i.push(d)}return i}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var s=t(a[i]);e[s].references--}for(var c=r(n,o),A=0;A<a.length;A++){var l=t(a[A]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},659:n=>{"use strict";var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:n=>{"use strict";n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{"use strict";n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{"use strict";n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{"use strict";n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},186:(n,e,t)=>{const r=t(432);class o{constructor(){this.grid=o.initialiseGrid(),this.ships=[]}placeShip(n,[e,t],o="h"){const a="h"===o,i=!a;if(e+n*a>10||t+n*i>10)throw new Error("Ship must fit on board");for(let r=0;r<n;r+=1)if(null!=this.grid[e+r*a][t+r*i].ship)throw new Error("Space already occupied");const s=new r(n);this.ships.push(s);for(let r=0;r<n;r+=1)this.grid[e+r*a][t+r*i].ship=s}recieveAttack(n,e){if(null!=this.grid[n][e].state)throw console.log(`X: ${n}, Y: ${e}`),console.log(`State: ${this.grid[n][e]}`),console.log(this.grid[n][e]),new Error("Square already tried");if(null!=this.grid[n][e].ship)return this.grid[n][e].ship.hit(),this.grid[n][e].state=1,!0;this.grid[n][e].state=0}allSunk(){return this.ships.reduce(((n,e)=>n&&e.sunk),!0)}static initialiseGrid(){const n=new Array(10).fill(null).map((()=>new Array(10).fill(null)));for(let e=0;e<n.length;e++)for(let t=0;t<n.length;t++)n[e][t]={state:null,ship:null};return n}}n.exports=o},128:(n,e,t)=>{"use strict";var r=t(72),o=t.n(r),a=t(825),i=t.n(a),s=t(659),c=t.n(s),A=t(56),l=t.n(A),d=t(540),p=t.n(d),h=t(113),u=t.n(h),g=t(208),C={};C.styleTagTransform=u(),C.setAttributes=l(),C.insert=c().bind(null,"head"),C.domAPI=i(),C.insertStyleElement=p(),o()(g.A,C),g.A&&g.A.locals&&g.A.locals;const m=t(211),E=(n,e=!1)=>{const t=document.createElement("div");t.classList.add("player-board");for(let r=0;r<=9;r+=1){const o=document.createElement("div");for(let t=9;t>=0;t-=1){const a=document.createElement("div");a.classList.add("square"),a.setAttribute("data.x",r),a.setAttribute("data.y",t),o.appendChild(a),null!=n[r][t].state&&(0===n[r][t].state?a.classList.add("missSquare"):1===n[r][t].state&&(!0===n[r][t].ship.sunk?a.classList.add("isSunk"):a.classList.add("hitSquare"))),e&&null!=n[r][t].ship&&a.classList.add("placedShip")}t.appendChild(o)}return t};console.log("We are in Index");const B=document.querySelector(".board-container-left"),f=new m,b=document.createElement("h2");b.textContent="Place your ships",b.classList.add("headerText");let x=E(f.gameBoard.grid,!0);B.appendChild(b),B.appendChild(x);const v=new m(!0);(n=>{const e=[2,3,3,4,5];let t=0,r=e.shift();for(;t<5;){const o=Math.floor(10*Math.random()),a=Math.floor(10*Math.random()),i=["h","v"][Math.floor(2*Math.random())];try{n.gameBoard.placeShip(r,[o,a],i),r=e.shift(),t+=1}catch{}}})(v),console.log("Starting Game Flow"),(async()=>{let n,e=!1;await(async()=>new Promise((n=>{const e=document.querySelector(".selector");e.addEventListener("click",(n=>{const{target:e}=n;let r=e;e.classList.contains("templateSquare")&&(r=e.parentElement),t(Number.parseInt(r.getAttribute("data-length"),10),r)}));const t=async(t,r)=>{const o=e.querySelector(".shipCont");let a=o.getAttribute("data-orientation");if([...o.children].forEach((n=>{n.classList.remove("highlightShipTemplate")})),x=E(f.gameBoard.grid,!0),B.innerHTML="",B.appendChild(b),B.appendChild(x),!r.classList.contains("bodyObject")){if("rotateBtn"===r.id)return a="h"===a?"v":"h",o.setAttribute("data-orientation",a),void("v"===a?o.classList.add("vertical"):o.classList.remove("vertical"));r.classList.add("highlightShipTemplate"),document.querySelectorAll(".square").forEach((n=>{const e=[...n.parentElement.children],r=Number.parseInt(n.getAttribute("data.y"),10),o=Number.parseInt(n.getAttribute("data.x"),10);let i=[],s=[],c=[],A=[],l=0,d=0;"v"===a?i=e.slice(10-r-t,9-r):(s=[...document.querySelector(".player-board").children],l=o,d=o+t,c=s.slice(l,d),A=c.map((n=>[...n.children][9-r])),i=A),n.addEventListener("mouseover",(()=>{n.classList.add("highlight"),i.forEach((n=>n.classList.add("highlight")))})),n.addEventListener("mouseout",(()=>{n.classList.remove("highlight"),i.forEach((n=>n.classList.remove("highlight")))}))})),"ship placed"===await((n,e)=>new Promise((t=>{x.addEventListener("click",(r=>{try{f.gameBoard.placeShip(n,[Number.parseInt(r.target.getAttribute("data.x"),10),Number.parseInt(r.target.getAttribute("data.y"),10)],e),t("ship placed")}catch(n){console.log(n)}}))})))(t,a)&&(r.remove(),0===document.querySelector(".shipCont").children.length&&n("Play game")),x=E(f.gameBoard.grid,!0),B.innerHTML="",B.appendChild(b),B.appendChild(x)}}})))();const t=document.createElement("h2");t.textContent="Ally Waters",t.classList.add("headerText");const r=document.createElement("h2");r.textContent="Enemy Waters",r.classList.add("headerText");const o=document.querySelector(".game-container");document.querySelector(".selector").remove();const a=document.createElement("div");a.classList.add("board-container-right"),a.innerHTML="",o.appendChild(a);let i=[];const s=document.querySelector("body"),c=document.querySelector(".board-container-left");c.innerHTML="";let A=E(f.gameBoard.grid,!0);c.appendChild(t),c.appendChild(A);let l=E(v.gameBoard.grid);for(a.appendChild(r),a.appendChild(l);!0!==e;){const o=a.querySelectorAll(".square"),s=()=>new Promise((n=>{o.forEach((e=>{e.addEventListener("click",(()=>{v.gameBoard.recieveAttack(e.getAttribute("data.x"),e.getAttribute("data.y")),n("good")}))}))}));await s(),l=E(v.gameBoard.grid),a.innerHTML="",a.appendChild(r),a.appendChild(l),v.hasLost()&&(n=!0,e=!0);let d,p,h=!1,u=!1,g=!1;for(;!0!==h;){i.length>0?[d,p]=i.pop():[d,p]=v.generateGuess();try{u=f.gameBoard.recieveAttack(d,p),h=!0,u&&(g=f.gameBoard.grid[d][p].ship.sunk)}catch{console.log("Failed Guess")}}u&&!g?(i.push([d,p+1]),i.push([d,p-1]),i.push([d+1,p]),i.push([d-1,p])):g&&(i=[]),A=E(f.gameBoard.grid,!0),c.innerHTML="",c.appendChild(t),c.appendChild(A),f.hasLost()&&(n=!1,e=!0)}const d=((n=!0)=>{const e=document.createElement("div");e.classList.add("gameEndCont");const t=document.createElement("div");t.classList.add("endGameText"),n?(e.classList.add("greenBackground"),t.textContent="YOU HAVE WON"):(e.classList.add("redBackground"),t.textContent="THE COMPUTER HAS WON");const r=document.createElement("button");return r.textContent="RESTART",r.classList.add("restartBtn"),r.addEventListener("click",(()=>{location.reload()})),e.appendChild(t),e.appendChild(r),e})(n);s.appendChild(d)})()},211:(n,e,t)=>{const r=t(186);n.exports=class{constructor(n=!1){this.gameBoard=new r,this.isComputer=n}hasLost(){return this.gameBoard.allSunk()}generateGuess(){return[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}}},432:n=>{n.exports=class{constructor(n){this.length=n,this.sunk=!1,this.numHits=0}hit(){this.numHits+=1,this.isSunk()}isSunk(){return this.sunk=this.numHits>=this.length,this.sunk}}}},n=>{n(n.s=128)}]);
//# sourceMappingURL=main.bundle.js.map